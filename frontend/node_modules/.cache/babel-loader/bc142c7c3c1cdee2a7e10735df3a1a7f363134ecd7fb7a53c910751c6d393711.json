{"ast":null,"code":"import React,{useEffect,useCallback}from'react';import{CloseIcon}from'@ya.praktikum/react-developer-burger-ui-components';import styles from'./Modal.module.css';import ReactDOM from'react-dom';import ModalOverlay from'../ModalOverlay/ModalOverlay';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Modal=function Modal(_ref){var children=_ref.children,header=_ref.header,onClose=_ref.onClose;var onCloseCallback=useCallback(onClose,[onClose]);var onKeyDown=function onKeyDown(event){if(event.key==='Escape'){onCloseCallback();}};useEffect(function(){var handleKeyDown=function handleKeyDown(event){var keyboardEvent=event;if(keyboardEvent.key==='Escape'){onCloseCallback();}};document.addEventListener('keydown',handleKeyDown);return function(){document.removeEventListener('keydown',handleKeyDown);};},[onCloseCallback]);return/*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:styles.modal,\"data-cy\":\"modalContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.modalContent,\" pt-10 pr-10 pb-15 pl-10 text-center\"),onKeyDown:onKeyDown,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(header?styles.modalHeader:\"\".concat(styles.modalNoHeader,\" mt-5 mb-5\"),\" d-flex\"),children:[header&&/*#__PURE__*/_jsx(\"span\",{className:\"text text_type_main-large\",children:header}),onClose&&/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(styles.closeIcon,\" ml-auto\"),\"data-cy\":\"modalCloseIcon\",children:/*#__PURE__*/_jsx(CloseIcon,{type:\"primary\",onClick:onClose})})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.modalBody,children:children})]})}),/*#__PURE__*/_jsx(ModalOverlay,{onClose:onClose})]}),document.getElementById('root'));};export default Modal;","map":{"version":3,"names":["React","useEffect","useCallback","CloseIcon","styles","ReactDOM","ModalOverlay","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Modal","_ref","children","header","onClose","onCloseCallback","onKeyDown","event","key","handleKeyDown","keyboardEvent","document","addEventListener","removeEventListener","createPortal","className","modal","concat","modalContent","modalHeader","modalNoHeader","closeIcon","type","onClick","modalBody","getElementById"],"sources":["/Users/evgenijpokaluk/Documents/GitHub/fullstack-elite-gameclub/frontend/src/components/Modal/Modal.tsx"],"sourcesContent":["import React, { FC, useEffect, useCallback } from 'react';\nimport { CloseIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport styles from './Modal.module.css';\nimport ReactDOM from 'react-dom';\nimport ModalOverlay from '../ModalOverlay/ModalOverlay';\nimport { ModalProps } from '../../services/types/types'\n\nconst Modal: FC<ModalProps> = ({ children, header, onClose }) => {\n  const onCloseCallback = useCallback(onClose, [onClose]);\n\n  const onKeyDown: React.KeyboardEventHandler<HTMLDivElement> = (event) => {\n    if (event.key === 'Escape') {\n      onCloseCallback();\n    }\n  };\n\n  useEffect(() => {\n    const handleKeyDown: EventListener = (event: Event) => {\n      const keyboardEvent = event as KeyboardEvent;\n      if (keyboardEvent.key === 'Escape') {\n        onCloseCallback();\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onCloseCallback]);\n\n  return ReactDOM.createPortal(\n    <>\n      <div className={styles.modal} data-cy=\"modalContainer\">\n        <div className={`${styles.modalContent} pt-10 pr-10 pb-15 pl-10 text-center`} onKeyDown={onKeyDown}>\n          <div className={`${header ? styles.modalHeader : `${styles.modalNoHeader} mt-5 mb-5`} d-flex`}>\n            {header && <span className='text text_type_main-large'>{header}</span>}\n            {onClose && (\n              <span className={`${styles.closeIcon} ml-auto`} data-cy=\"modalCloseIcon\">\n                <CloseIcon type='primary' onClick={onClose} />\n              </span>\n            )}\n          </div>\n          <div className={styles.modalBody}>\n            {children}\n          </div>\n        </div>\n      </div>\n      <ModalOverlay onClose={onClose} />\n    </>,\n    document.getElementById('root') as HTMLElement\n  );\n};\n\nexport default Modal;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAQC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CACzD,OAASC,SAAS,KAAQ,oDAAoD,CAC9E,MAAO,CAAAC,MAAM,KAAM,oBAAoB,CACvC,MAAO,CAAAC,QAAQ,KAAM,WAAW,CAChC,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAGxD,GAAM,CAAAC,KAAqB,CAAG,QAAxB,CAAAA,KAAqBA,CAAAC,IAAA,CAAsC,IAAhC,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAEC,MAAM,CAAAF,IAAA,CAANE,MAAM,CAAEC,OAAO,CAAAH,IAAA,CAAPG,OAAO,CACxD,GAAM,CAAAC,eAAe,CAAGhB,WAAW,CAACe,OAAO,CAAE,CAACA,OAAO,CAAC,CAAC,CAEvD,GAAM,CAAAE,SAAqD,CAAG,QAAxD,CAAAA,SAAqDA,CAAIC,KAAK,CAAK,CACvE,GAAIA,KAAK,CAACC,GAAG,GAAK,QAAQ,CAAE,CAC1BH,eAAe,CAAC,CAAC,CACnB,CACF,CAAC,CAEDjB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAqB,aAA4B,CAAG,QAA/B,CAAAA,aAA4BA,CAAIF,KAAY,CAAK,CACrD,GAAM,CAAAG,aAAa,CAAGH,KAAsB,CAC5C,GAAIG,aAAa,CAACF,GAAG,GAAK,QAAQ,CAAE,CAClCH,eAAe,CAAC,CAAC,CACnB,CACF,CAAC,CAEDM,QAAQ,CAACC,gBAAgB,CAAC,SAAS,CAAEH,aAAa,CAAC,CACnD,MAAO,WAAM,CACXE,QAAQ,CAACE,mBAAmB,CAAC,SAAS,CAAEJ,aAAa,CAAC,CACxD,CAAC,CACH,CAAC,CAAE,CAACJ,eAAe,CAAC,CAAC,CAErB,mBAAOb,QAAQ,CAACsB,YAAY,cAC1BjB,KAAA,CAAAE,SAAA,EAAAG,QAAA,eACEP,IAAA,QAAKoB,SAAS,CAAExB,MAAM,CAACyB,KAAM,CAAC,UAAQ,gBAAgB,CAAAd,QAAA,cACpDL,KAAA,QAAKkB,SAAS,IAAAE,MAAA,CAAK1B,MAAM,CAAC2B,YAAY,wCAAuC,CAACZ,SAAS,CAAEA,SAAU,CAAAJ,QAAA,eACjGL,KAAA,QAAKkB,SAAS,IAAAE,MAAA,CAAKd,MAAM,CAAGZ,MAAM,CAAC4B,WAAW,IAAAF,MAAA,CAAM1B,MAAM,CAAC6B,aAAa,cAAY,WAAU,CAAAlB,QAAA,EAC3FC,MAAM,eAAIR,IAAA,SAAMoB,SAAS,CAAC,2BAA2B,CAAAb,QAAA,CAAEC,MAAM,CAAO,CAAC,CACrEC,OAAO,eACNT,IAAA,SAAMoB,SAAS,IAAAE,MAAA,CAAK1B,MAAM,CAAC8B,SAAS,YAAW,CAAC,UAAQ,gBAAgB,CAAAnB,QAAA,cACtEP,IAAA,CAACL,SAAS,EAACgC,IAAI,CAAC,SAAS,CAACC,OAAO,CAAEnB,OAAQ,CAAE,CAAC,CAC1C,CACP,EACE,CAAC,cACNT,IAAA,QAAKoB,SAAS,CAAExB,MAAM,CAACiC,SAAU,CAAAtB,QAAA,CAC9BA,QAAQ,CACN,CAAC,EACH,CAAC,CACH,CAAC,cACNP,IAAA,CAACF,YAAY,EAACW,OAAO,CAAEA,OAAQ,CAAE,CAAC,EAClC,CAAC,CACHO,QAAQ,CAACc,cAAc,CAAC,MAAM,CAChC,CAAC,CACH,CAAC,CAED,cAAe,CAAAzB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}