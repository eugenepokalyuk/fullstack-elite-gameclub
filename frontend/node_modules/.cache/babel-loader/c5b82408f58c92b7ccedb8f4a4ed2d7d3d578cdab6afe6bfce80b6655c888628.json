{"ast":null,"code":"import _slicedToArray from\"/Users/evgenijpokaluk/Documents/GitHub/fullstack-elite-gameclub/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import styles from'./App.module.css';import AppHeader from'../AppHeader/AppHeader';import{HomePage}from'../../pages/HomePage/HomePage';import{SettingsPage}from'../../pages/SettingsPage/SettingsPage';import{StorePage}from'../../pages/StorePage/StorePage';import{StatPage}from'../../pages/StatPage/StatPage';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSpinner}from'@fortawesome/free-solid-svg-icons';import{DEFAULT_PATH,SETTINGS_PATH,STORE_PATH,STAT_PATH,WAREHOUSE_PATH}from'../../utils/routePath';import{Route,Routes,useLocation,useNavigate}from'react-router-dom';import{fetchComputersData,fetchStoreData}from'../../utils/api';import{useAppDispatch}from\"../../services/hooks/hooks\";import{FETCH_COMPUTERS_FAILURE,FETCH_COMPUTERS_REQUEST,FETCH_COMPUTERS_SUCCESS}from'../../services/actions/computers';import Modal from'../Modal/Modal';import{FETCH_STORE_FAILURE,FETCH_STORE_REQUEST,FETCH_STORE_SUCCESS}from'../../services/actions/store';import{WarehousePage}from'../../pages/WarehousePage/WarehousePage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var location=useLocation();var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],isLoading=_useState2[1];var background=location.state&&location.state.background;var dispatch=useAppDispatch();var closeModal=function closeModal(){navigate(-1);};useEffect(function(){dispatch({type:FETCH_COMPUTERS_REQUEST});isLoading(true);fetchComputersData().then(function(res){dispatch({type:FETCH_COMPUTERS_SUCCESS,payload:res});}).catch(function(error){dispatch({type:FETCH_COMPUTERS_FAILURE,payload:error});});},[dispatch]);useEffect(function(){dispatch({type:FETCH_STORE_REQUEST});isLoading(true);fetchStoreData().then(function(res){dispatch({type:FETCH_STORE_SUCCESS,payload:res});}).catch(function(error){dispatch({type:FETCH_STORE_FAILURE,payload:error});});},[dispatch]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AppHeader,{}),loading?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Routes,{location:background||location,children:[/*#__PURE__*/_jsx(Route,{path:DEFAULT_PATH,element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:SETTINGS_PATH,element:/*#__PURE__*/_jsx(SettingsPage,{})}),/*#__PURE__*/_jsx(Route,{path:STAT_PATH,element:/*#__PURE__*/_jsx(StatPage,{})}),/*#__PURE__*/_jsx(Route,{path:STORE_PATH,element:/*#__PURE__*/_jsx(StorePage,{})}),/*#__PURE__*/_jsx(Route,{path:WAREHOUSE_PATH,element:/*#__PURE__*/_jsx(WarehousePage,{})})]})}):/*#__PURE__*/_jsxs(Modal,{onClose:closeModal,header:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 mt-4\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(styles.textOrangeColor,\" text text_type_main-medium mb-8\"),children:\"\\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430 \\u043F\\u043E\\u0434\\u043E\\u0436\\u0434\\u0438\\u0442\\u0435\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.flex,\" text_color_inactive\"),children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSpinner,spin:true,size:\"5x\",className:\"\".concat(styles.faSpinner)})})]})]})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","styles","AppHeader","HomePage","SettingsPage","StorePage","StatPage","FontAwesomeIcon","faSpinner","DEFAULT_PATH","SETTINGS_PATH","STORE_PATH","STAT_PATH","WAREHOUSE_PATH","Route","Routes","useLocation","useNavigate","fetchComputersData","fetchStoreData","useAppDispatch","FETCH_COMPUTERS_FAILURE","FETCH_COMPUTERS_REQUEST","FETCH_COMPUTERS_SUCCESS","Modal","FETCH_STORE_FAILURE","FETCH_STORE_REQUEST","FETCH_STORE_SUCCESS","WarehousePage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","location","navigate","_useState","_useState2","_slicedToArray","loading","isLoading","background","state","dispatch","closeModal","type","then","res","payload","catch","error","children","path","element","onClose","header","className","concat","textOrangeColor","flex","icon","spin","size"],"sources":["/Users/evgenijpokaluk/Documents/GitHub/fullstack-elite-gameclub/frontend/src/components/App/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styles from './App.module.css';\nimport AppHeader from '../AppHeader/AppHeader';\nimport { HomePage } from '../../pages/HomePage/HomePage';\nimport { SettingsPage } from '../../pages/SettingsPage/SettingsPage';\nimport { StorePage } from '../../pages/StorePage/StorePage';\nimport { StatPage } from '../../pages/StatPage/StatPage';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\nimport { DEFAULT_PATH, SETTINGS_PATH, STORE_PATH, STAT_PATH, WAREHOUSE_PATH } from '../../utils/routePath';\nimport { Route, Routes, useLocation, useNavigate } from 'react-router-dom';\nimport { fetchComputersData, fetchStoreData } from '../../utils/api';\nimport { useAppDispatch } from \"../../services/hooks/hooks\";\nimport { FETCH_COMPUTERS_FAILURE, FETCH_COMPUTERS_REQUEST, FETCH_COMPUTERS_SUCCESS } from '../../services/actions/computers';\nimport Modal from '../Modal/Modal';\nimport { FETCH_STORE_FAILURE, FETCH_STORE_REQUEST, FETCH_STORE_SUCCESS } from '../../services/actions/store';\nimport { WarehousePage } from '../../pages/WarehousePage/WarehousePage';\n\nconst App = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [loading, isLoading] = useState<boolean>(false);\n  const background = location.state && location.state.background;\n  const dispatch = useAppDispatch();\n\n  const closeModal = () => {\n    navigate(-1);\n  };\n\n  useEffect(() => {\n    dispatch({ type: FETCH_COMPUTERS_REQUEST });\n    isLoading(true);\n\n    fetchComputersData()\n      .then(res => {\n        dispatch({ type: FETCH_COMPUTERS_SUCCESS, payload: res });\n      })\n      .catch(error => {\n        dispatch({ type: FETCH_COMPUTERS_FAILURE, payload: error });\n      });\n  }, [dispatch]);\n\n  useEffect(() => {\n    dispatch({ type: FETCH_STORE_REQUEST });\n    isLoading(true);\n\n    fetchStoreData()\n      .then(res => {\n        dispatch({ type: FETCH_STORE_SUCCESS, payload: res });\n      })\n      .catch(error => {\n        dispatch({ type: FETCH_STORE_FAILURE, payload: error });\n      });\n  }, [dispatch]);\n\n  return (\n    <>\n      <AppHeader />\n      {loading\n        ? <>\n          <Routes location={background || location}>\n            <Route path={DEFAULT_PATH} element={<HomePage />} />\n            <Route path={SETTINGS_PATH} element={<SettingsPage />} />\n            <Route path={STAT_PATH} element={<StatPage />} />\n            <Route path={STORE_PATH} element={<StorePage />} />\n            <Route path={WAREHOUSE_PATH} element={<WarehousePage />} />\n          </Routes>\n        </>\n        :\n        <Modal onClose={closeModal} header=\"Загрузка данных\">\n          <div className=\"mb-4 mt-4\">\n          </div>\n          <div>\n            <p className={`${styles.textOrangeColor} text text_type_main-medium mb-8`}>\n              Пожалуйста подождите\n            </p>\n            <div className={`${styles.flex} text_color_inactive`}>\n              <FontAwesomeIcon\n                icon={faSpinner}\n                spin\n                size=\"5x\"\n                className={`${styles.faSpinner}`}\n              />\n            </div>\n          </div>\n        </Modal>\n      }\n\n    </>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}